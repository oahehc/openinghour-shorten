'use strict';var openinghourShorten=require('./index');describe('NORMAL',function(){test('all same period',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1100'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}])).toBe('Sun-Sat 11:00~21:00')}),test('weekday AND weekend',function(){expect(openinghourShorten([{close:{day:0,time:'2200'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}])).toBe('Sun,Sat 10:00~22:00; Mon-Fri 11:00~21:00')}),test('partial continue',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2200'},open:{day:5,time:'1100'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}])).toBe('Sun 10:00~21:00; Mon-Thu 11:00~21:00; Fri 11:00~22:00; Sat 10:00~22:00')}),test('discrete',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1200'}},{close:{day:3,time:'2000'},open:{day:3,time:'1000'}},{close:{day:4,time:'2000'},open:{day:4,time:'1100'}},{close:{day:5,time:'2000'},open:{day:5,time:'1200'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}])).toBe('Sun 10:00~21:00; Mon 11:00~21:00; Tue 12:00~21:00; Wed 10:00~20:00; Thu 11:00~20:00; Fri 12:00~20:00; Sat 10:00~22:00')}),test('partial continue in same group',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2200'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}])).toBe('Sun 10:00~21:00; Mon-Thu,Sat 11:00~21:00; Fri 11:00~22:00')}),test('multiple continue range in same group',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1100'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2300'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}])).toBe('Sun-Tue,Thu-Sat 11:00~21:00; Wed 11:00~23:00')}),test('overnight',function(){expect(openinghourShorten([{close:{day:1,time:'0000'},open:{day:0,time:'1800'}},{close:{day:2,time:'0000'},open:{day:1,time:'1800'}},{close:{day:3,time:'0000'},open:{day:2,time:'1800'}},{close:{day:4,time:'0000'},open:{day:3,time:'1800'}},{close:{day:5,time:'0000'},open:{day:4,time:'1800'}},{close:{day:6,time:'0100'},open:{day:5,time:'1800'}},{close:{day:0,time:'0100'},open:{day:6,time:'1800'}}])).toBe('Sun-Thu 18:00~00:00; Fri,Sat 18:00~01:00')}),test('multiple time period',function(){expect(openinghourShorten([{close:{day:0,time:'1030'},open:{day:0,time:'0630'}},{close:{day:0,time:'1430'},open:{day:0,time:'1200'}},{close:{day:0,time:'1700'},open:{day:0,time:'1530'}},{close:{day:0,time:'2130'},open:{day:0,time:'1800'}},{close:{day:1,time:'1000'},open:{day:1,time:'0630'}},{close:{day:1,time:'1400'},open:{day:1,time:'1130'}},{close:{day:1,time:'1700'},open:{day:1,time:'1530'}},{close:{day:1,time:'2130'},open:{day:1,time:'1800'}},{close:{day:2,time:'1000'},open:{day:2,time:'0630'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:2,time:'1700'},open:{day:2,time:'1530'}},{close:{day:2,time:'2130'},open:{day:2,time:'1800'}},{close:{day:3,time:'1000'},open:{day:3,time:'0630'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:3,time:'1700'},open:{day:3,time:'1530'}},{close:{day:3,time:'2130'},open:{day:3,time:'1800'}},{close:{day:4,time:'1000'},open:{day:4,time:'0630'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:4,time:'1700'},open:{day:4,time:'1530'}},{close:{day:4,time:'2130'},open:{day:4,time:'1800'}},{close:{day:5,time:'1000'},open:{day:5,time:'0630'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:5,time:'1700'},open:{day:5,time:'1530'}},{close:{day:5,time:'2130'},open:{day:5,time:'1800'}},{close:{day:6,time:'1030'},open:{day:6,time:'0630'}},{close:{day:6,time:'1430'},open:{day:6,time:'1200'}},{close:{day:6,time:'1700'},open:{day:6,time:'1530'}},{close:{day:6,time:'2130'},open:{day:6,time:'1800'}}])).toBe('Sun,Sat 06:30~10:30 12:00~14:30; Sun-Sat 15:30~17:00 18:00~21:30; Mon-Fri 06:30~10:00 11:30~14:00')}),test('with holiday',function(){expect(openinghourShorten([{close:{day:1,time:'1400'},open:{day:1,time:'1130'}},{close:{day:1,time:'2100'},open:{day:1,time:'1730'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:2,time:'2100'},open:{day:2,time:'1730'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:3,time:'2100'},open:{day:3,time:'1730'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:4,time:'2100'},open:{day:4,time:'1730'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:5,time:'2100'},open:{day:5,time:'1730'}},{close:{day:6,time:'1400'},open:{day:6,time:'1130'}},{close:{day:6,time:'2100'},open:{day:6,time:'1730'}}])).toBe('Mon-Sat 11:30~14:00 17:30~21:00')}),test('overnight + multiple time period + holiday',function(){expect(openinghourShorten([{close:{day:0,time:'1400'},open:{day:0,time:'1130'}},{close:{day:1,time:'0000'},open:{day:0,time:'1800'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:3,time:'0000'},open:{day:2,time:'1800'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:4,time:'0000'},open:{day:3,time:'1800'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:5,time:'0000'},open:{day:4,time:'1800'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:6,time:'0000'},open:{day:5,time:'1800'}},{close:{day:6,time:'1400'},open:{day:6,time:'1130'}},{close:{day:0,time:'0000'},open:{day:6,time:'1800'}}])).toBe('Sun,Tue-Sat 11:30~14:00 18:00~00:00')}),test('7DAY 24HR',function(){expect(openinghourShorten([{open:{day:0,time:'0000'}}])).toBe('24/7')}),test('Single Day',function(){expect(openinghourShorten([{close:{day:0,time:'1400'},open:{day:0,time:'1130'}}])).toBe('Sun 11:30~14:00')})}),describe('START BY MONDAY',function(){test('all same period',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1100'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}],{startByMonday:!0})).toBe('Mon-Sun 11:00~21:00')}),test('weekday AND weekend',function(){expect(openinghourShorten([{close:{day:0,time:'2200'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}],{startByMonday:!0})).toBe('Mon-Fri 11:00~21:00; Sat,Sun 10:00~22:00')}),test('partial continue',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2200'},open:{day:5,time:'1100'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}],{startByMonday:!0})).toBe('Mon-Thu 11:00~21:00; Fri 11:00~22:00; Sat 10:00~22:00; Sun 10:00~21:00')}),test('discrete',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1200'}},{close:{day:3,time:'2000'},open:{day:3,time:'1000'}},{close:{day:4,time:'2000'},open:{day:4,time:'1100'}},{close:{day:5,time:'2000'},open:{day:5,time:'1200'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}],{startByMonday:!0})).toBe('Mon 11:00~21:00; Tue 12:00~21:00; Wed 10:00~20:00; Thu 11:00~20:00; Fri 12:00~20:00; Sat 10:00~22:00; Sun 10:00~21:00')}),test('partial continue in same group',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2200'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}],{startByMonday:!0})).toBe('Mon-Thu,Sat 11:00~21:00; Fri 11:00~22:00; Sun 10:00~21:00')}),test('multiple continue range in same group',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1100'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2300'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}],{startByMonday:!0})).toBe('Mon,Tue,Thu-Sun 11:00~21:00; Wed 11:00~23:00')}),test('overnight',function(){expect(openinghourShorten([{close:{day:1,time:'0000'},open:{day:0,time:'1800'}},{close:{day:2,time:'0000'},open:{day:1,time:'1800'}},{close:{day:3,time:'0000'},open:{day:2,time:'1800'}},{close:{day:4,time:'0000'},open:{day:3,time:'1800'}},{close:{day:5,time:'0000'},open:{day:4,time:'1800'}},{close:{day:6,time:'0100'},open:{day:5,time:'1800'}},{close:{day:0,time:'0100'},open:{day:6,time:'1800'}}],{startByMonday:!0})).toBe('Mon-Thu,Sun 18:00~00:00; Fri,Sat 18:00~01:00')}),test('multiple time period',function(){expect(openinghourShorten([{close:{day:0,time:'1030'},open:{day:0,time:'0630'}},{close:{day:0,time:'1430'},open:{day:0,time:'1200'}},{close:{day:0,time:'1700'},open:{day:0,time:'1530'}},{close:{day:0,time:'2130'},open:{day:0,time:'1800'}},{close:{day:1,time:'1000'},open:{day:1,time:'0630'}},{close:{day:1,time:'1400'},open:{day:1,time:'1130'}},{close:{day:1,time:'1700'},open:{day:1,time:'1530'}},{close:{day:1,time:'2130'},open:{day:1,time:'1800'}},{close:{day:2,time:'1000'},open:{day:2,time:'0630'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:2,time:'1700'},open:{day:2,time:'1530'}},{close:{day:2,time:'2130'},open:{day:2,time:'1800'}},{close:{day:3,time:'1000'},open:{day:3,time:'0630'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:3,time:'1700'},open:{day:3,time:'1530'}},{close:{day:3,time:'2130'},open:{day:3,time:'1800'}},{close:{day:4,time:'1000'},open:{day:4,time:'0630'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:4,time:'1700'},open:{day:4,time:'1530'}},{close:{day:4,time:'2130'},open:{day:4,time:'1800'}},{close:{day:5,time:'1000'},open:{day:5,time:'0630'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:5,time:'1700'},open:{day:5,time:'1530'}},{close:{day:5,time:'2130'},open:{day:5,time:'1800'}},{close:{day:6,time:'1030'},open:{day:6,time:'0630'}},{close:{day:6,time:'1430'},open:{day:6,time:'1200'}},{close:{day:6,time:'1700'},open:{day:6,time:'1530'}},{close:{day:6,time:'2130'},open:{day:6,time:'1800'}}],{startByMonday:!0})).toBe('Mon-Fri 06:30~10:00 11:30~14:00; Mon-Sun 15:30~17:00 18:00~21:30; Sat,Sun 06:30~10:30 12:00~14:30')}),test('with holiday',function(){expect(openinghourShorten([{close:{day:1,time:'1400'},open:{day:1,time:'1130'}},{close:{day:1,time:'2100'},open:{day:1,time:'1730'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:2,time:'2100'},open:{day:2,time:'1730'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:3,time:'2100'},open:{day:3,time:'1730'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:4,time:'2100'},open:{day:4,time:'1730'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:5,time:'2100'},open:{day:5,time:'1730'}},{close:{day:6,time:'1400'},open:{day:6,time:'1130'}},{close:{day:6,time:'2100'},open:{day:6,time:'1730'}}],{startByMonday:!0})).toBe('Mon-Sat 11:30~14:00 17:30~21:00')}),test('overnight + multiple time period + holiday',function(){expect(openinghourShorten([{close:{day:0,time:'1400'},open:{day:0,time:'1130'}},{close:{day:1,time:'0000'},open:{day:0,time:'1800'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:3,time:'0000'},open:{day:2,time:'1800'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:4,time:'0000'},open:{day:3,time:'1800'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:5,time:'0000'},open:{day:4,time:'1800'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:6,time:'0000'},open:{day:5,time:'1800'}},{close:{day:6,time:'1400'},open:{day:6,time:'1130'}},{close:{day:0,time:'0000'},open:{day:6,time:'1800'}}],{startByMonday:!0})).toBe('Tue-Sun 11:30~14:00 18:00~00:00')})}),describe('12 HOUR FORMAT',function(){test('all same period',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1100'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Sun 11:00AM~09:00PM')}),test('weekday AND weekend',function(){expect(openinghourShorten([{close:{day:0,time:'2200'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Fri 11:00AM~09:00PM; Sat,Sun 10:00AM~10:00PM')}),test('partial continue',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2200'},open:{day:5,time:'1100'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Thu 11:00AM~09:00PM; Fri 11:00AM~10:00PM; Sat 10:00AM~10:00PM; Sun 10:00AM~09:00PM')}),test('discrete',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1200'}},{close:{day:3,time:'2000'},open:{day:3,time:'1000'}},{close:{day:4,time:'2000'},open:{day:4,time:'1100'}},{close:{day:5,time:'2000'},open:{day:5,time:'1200'}},{close:{day:6,time:'2200'},open:{day:6,time:'1000'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon 11:00AM~09:00PM; Tue 12:00PM~09:00PM; Wed 10:00AM~08:00PM; Thu 11:00AM~08:00PM; Fri 12:00PM~08:00PM; Sat 10:00AM~10:00PM; Sun 10:00AM~09:00PM')}),test('partial continue in same group',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1000'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2100'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2200'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Thu,Sat 11:00AM~09:00PM; Fri 11:00AM~10:00PM; Sun 10:00AM~09:00PM')}),test('multiple continue range in same group',function(){expect(openinghourShorten([{close:{day:0,time:'2100'},open:{day:0,time:'1100'}},{close:{day:1,time:'2100'},open:{day:1,time:'1100'}},{close:{day:2,time:'2100'},open:{day:2,time:'1100'}},{close:{day:3,time:'2300'},open:{day:3,time:'1100'}},{close:{day:4,time:'2100'},open:{day:4,time:'1100'}},{close:{day:5,time:'2100'},open:{day:5,time:'1100'}},{close:{day:6,time:'2100'},open:{day:6,time:'1100'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon,Tue,Thu-Sun 11:00AM~09:00PM; Wed 11:00AM~11:00PM')}),test('overnight',function(){expect(openinghourShorten([{close:{day:1,time:'0000'},open:{day:0,time:'1800'}},{close:{day:2,time:'0000'},open:{day:1,time:'1800'}},{close:{day:3,time:'0000'},open:{day:2,time:'1800'}},{close:{day:4,time:'0000'},open:{day:3,time:'1800'}},{close:{day:5,time:'0000'},open:{day:4,time:'1800'}},{close:{day:6,time:'0100'},open:{day:5,time:'1800'}},{close:{day:0,time:'0100'},open:{day:6,time:'1800'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Thu,Sun 06:00PM~12:00AM; Fri,Sat 06:00PM~01:00AM')}),test('multiple time period',function(){expect(openinghourShorten([{close:{day:0,time:'1030'},open:{day:0,time:'0630'}},{close:{day:0,time:'1430'},open:{day:0,time:'1200'}},{close:{day:0,time:'1700'},open:{day:0,time:'1530'}},{close:{day:0,time:'2130'},open:{day:0,time:'1800'}},{close:{day:1,time:'1000'},open:{day:1,time:'0630'}},{close:{day:1,time:'1400'},open:{day:1,time:'1130'}},{close:{day:1,time:'1700'},open:{day:1,time:'1530'}},{close:{day:1,time:'2130'},open:{day:1,time:'1800'}},{close:{day:2,time:'1000'},open:{day:2,time:'0630'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:2,time:'1700'},open:{day:2,time:'1530'}},{close:{day:2,time:'2130'},open:{day:2,time:'1800'}},{close:{day:3,time:'1000'},open:{day:3,time:'0630'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:3,time:'1700'},open:{day:3,time:'1530'}},{close:{day:3,time:'2130'},open:{day:3,time:'1800'}},{close:{day:4,time:'1000'},open:{day:4,time:'0630'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:4,time:'1700'},open:{day:4,time:'1530'}},{close:{day:4,time:'2130'},open:{day:4,time:'1800'}},{close:{day:5,time:'1000'},open:{day:5,time:'0630'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:5,time:'1700'},open:{day:5,time:'1530'}},{close:{day:5,time:'2130'},open:{day:5,time:'1800'}},{close:{day:6,time:'1030'},open:{day:6,time:'0630'}},{close:{day:6,time:'1430'},open:{day:6,time:'1200'}},{close:{day:6,time:'1700'},open:{day:6,time:'1530'}},{close:{day:6,time:'2130'},open:{day:6,time:'1800'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Fri 06:30AM~10:00AM 11:30AM~02:00PM; Mon-Sun 03:30PM~05:00PM 06:00PM~09:30PM; Sat,Sun 06:30AM~10:30AM 12:00PM~02:30PM')}),test('with holiday',function(){expect(openinghourShorten([{close:{day:1,time:'1400'},open:{day:1,time:'1130'}},{close:{day:1,time:'2100'},open:{day:1,time:'1730'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:2,time:'2100'},open:{day:2,time:'1730'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:3,time:'2100'},open:{day:3,time:'1730'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:4,time:'2100'},open:{day:4,time:'1730'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:5,time:'2100'},open:{day:5,time:'1730'}},{close:{day:6,time:'1400'},open:{day:6,time:'1130'}},{close:{day:6,time:'2100'},open:{day:6,time:'1730'}}],{format12Hr:!0,startByMonday:!0})).toBe('Mon-Sat 11:30AM~02:00PM 05:30PM~09:00PM')}),test('overnight + multiple time period + holiday',function(){expect(openinghourShorten([{close:{day:0,time:'1400'},open:{day:0,time:'1130'}},{close:{day:1,time:'0000'},open:{day:0,time:'1800'}},{close:{day:2,time:'1400'},open:{day:2,time:'1130'}},{close:{day:3,time:'0000'},open:{day:2,time:'1800'}},{close:{day:3,time:'1400'},open:{day:3,time:'1130'}},{close:{day:4,time:'0000'},open:{day:3,time:'1800'}},{close:{day:4,time:'1400'},open:{day:4,time:'1130'}},{close:{day:5,time:'0000'},open:{day:4,time:'1800'}},{close:{day:5,time:'1400'},open:{day:5,time:'1130'}},{close:{day:6,time:'0000'},open:{day:5,time:'1800'}},{close:{day:6,time:'1400'},open:{day:6,time:'1130'}},{close:{day:0,time:'0000'},open:{day:6,time:'1800'}}],{format12Hr:!0,startByMonday:!0})).toBe('Tue-Sun 11:30AM~02:00PM 06:00PM~12:00AM')})}),describe('ERROR HANDLE',function(){test('undefined',function(){expect(openinghourShorten()).toBe('')}),test('null',function(){expect(openinghourShorten(null)).toBe('')}),test('error format',function(){expect(openinghourShorten('openingHours')).toBe('')})});